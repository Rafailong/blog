<!doctype html>
<html lang="en" dir="ltr">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width,initial-scale=1">
<meta name="generator" content="Docusaurus v2.0.0-beta.14">
<link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="ravila&#39; blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="ravila&#39; blog Atom Feed"><title data-react-helmet="true">sum triangle from array | ravila&#x27; blog</title><meta data-react-helmet="true" name="twitter:card" content="summary_large_image"><meta data-react-helmet="true" property="og:url" content="https://rafailong.github.io/blog/sum-triangle-from-array"><meta data-react-helmet="true" name="docusaurus_locale" content="en"><meta data-react-helmet="true" name="docusaurus_tag" content="default"><meta data-react-helmet="true" property="og:title" content="sum triangle from array | ravila&#x27; blog"><meta data-react-helmet="true" name="description" content="another week, another code challenge"><meta data-react-helmet="true" property="og:description" content="another week, another code challenge"><meta data-react-helmet="true" property="og:type" content="article"><meta data-react-helmet="true" property="article:published_time" content="2022-01-19T00:00:00.000Z"><meta data-react-helmet="true" property="article:author" content="https://github.com/Rafailong"><meta data-react-helmet="true" property="article:tag" content="scala,algo"><link data-react-helmet="true" rel="icon" href="/blog/img/favicon.ico"><link data-react-helmet="true" rel="canonical" href="https://rafailong.github.io/blog/sum-triangle-from-array"><link data-react-helmet="true" rel="alternate" href="https://rafailong.github.io/blog/sum-triangle-from-array" hreflang="en"><link data-react-helmet="true" rel="alternate" href="https://rafailong.github.io/blog/sum-triangle-from-array" hreflang="x-default"><link rel="stylesheet" href="/blog/assets/css/styles.45bfc0d0.css">
<link rel="preload" href="/blog/assets/js/runtime~main.a34d5912.js" as="script">
<link rel="preload" href="/blog/assets/js/main.206bdfe0.js" as="script">
</head>
<body>
<script>!function(){function t(t){document.documentElement.setAttribute("data-theme",t)}var e=function(){var t=null;try{t=localStorage.getItem("theme")}catch(t){}return t}();t(null!==e?e:"light")}()</script><div id="__docusaurus">
<div><a href="#" class="skipToContent_OuoZ">Skip to main content</a></div><nav class="navbar navbar--fixed-top"><div class="navbar__inner"><div class="navbar__items"><a class="navbar__brand" href="/blog/"><b class="navbar__title">ravila&#x27; blog</b></a></div><div class="navbar__items navbar__items--right"><div class="toggle_iYfV toggle_2i4l toggleDisabled_xj38"><div class="toggleTrack_t-f2" role="button" tabindex="-1"><div class="toggleTrackCheck_mk7D"><span class="toggleIcon_pHJ9">ðŸŒœ</span></div><div class="toggleTrackX_dm8H"><span class="toggleIcon_pHJ9">ðŸŒž</span></div><div class="toggleTrackThumb_W6To"></div></div><input type="checkbox" class="toggleScreenReader_h9qa" aria-label="Switch between dark and light mode"></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div class="main-wrapper blog-wrapper blog-post-page"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_q+wC thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_9G5K margin-bottom--md">All posts</div><ul class="sidebarItemList_6T4b"><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/number-is-palindrome">is the number a palindrome?</a></li><li class="sidebarItem_cjdF"><a aria-current="page" class="sidebarItemLink_zyXk sidebarItemLinkActive_wcJs" href="/blog/sum-triangle-from-array">sum triangle from array</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/add-two-numbers">add two number</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/sorted-squared-array">sorted squared array</a></li><li class="sidebarItem_cjdF"><a class="sidebarItemLink_zyXk" href="/blog/dollar-sign-operator">haskell dollar-sign operator</a></li></ul></nav></aside><main class="col col--7" itemscope="" itemtype="http://schema.org/Blog"><article itemprop="blogPost" itemscope="" itemtype="http://schema.org/BlogPosting"><header><h1 class="blogPostTitle_d4p0" itemprop="headline">sum triangle from array</h1><div class="blogPostData_-Im+ margin-vert--md"><time datetime="2022-01-19T00:00:00.000Z" itemprop="datePublished">January 19, 2022</time> Â· <!-- -->3 min read</div><div class="row margin-top--md margin-bottom--sm"><div class="col col--6 authorCol_8c0z"><div class="avatar margin-bottom--sm"><a href="https://github.com/Rafailong" target="_blank" rel="noopener noreferrer" class="avatar__photo-link avatar__photo"><img class="image_9q7L" src="https://github.com/Rafailong.png" alt="Rafael Avila"></a><div class="avatar__intro" itemprop="author" itemscope="" itemtype="https://schema.org/Person"><div class="avatar__name"><a href="https://github.com/Rafailong" target="_blank" rel="noopener noreferrer" itemprop="url"><span itemprop="name">Rafael Avila</span></a></div></div></div></div></div></header><div class="markdown" itemprop="articleBody"><p>another week, another code challenge</p><h2 class="anchor anchorWithStickyNavbar_y2LR" id="description">description<a class="hash-link" href="#description" title="Direct link to heading">â€‹</a></h2><p>given an array of integers, print a sum triangle from it such that
the first level has all array elements.
from then, at each level number of elements is one less than the previous level
and elements at the level is be the <strong>sum</strong> of consecutive two elements in the previous level. </p><h3 class="anchor anchorWithStickyNavbar_y2LR" id="example">example<a class="hash-link" href="#example" title="Direct link to heading">â€‹</a></h3><div class="codeBlockContainer_J+bg language-scala theme-code-block"><div class="codeBlockContent_csEI scala"><pre tabindex="0" class="prism-code language-scala codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">def sumTriangle(number: List[Int]): List[List[Int]] = ???</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">val input = List(1, 2, 3, 4, 5)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">show(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  sumTriangle(input)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// stdout output</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// List(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//   List(48),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//   List(20, 28), </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//   List(8, 12, 16), </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//   List(3, 5, 7, 9), </span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//   List(1, 2, 3, 4, 5)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// )</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><h2 class="anchor anchorWithStickyNavbar_y2LR" id="solution">solution<a class="hash-link" href="#solution" title="Direct link to heading">â€‹</a></h2><p>first, we need to find a way to sum the elements of a list in pairs,
something that does like:</p><div class="codeBlockContainer_J+bg language-haskell theme-code-block"><div class="codeBlockContent_csEI haskell"><pre tabindex="0" class="prism-code language-haskell codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">[1, 2, 3, 4, 5] -&gt; [1 + 2, 2 + 3, 3 + 4, 4 + 5] = [3, 5, 7, 9]</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>ðŸ¤” intresting enough, this looks like we need to <code>zip</code> one element with its successor.</p><div class="codeBlockContainer_J+bg language-scala theme-code-block"><div class="codeBlockContent_csEI scala"><pre tabindex="0" class="prism-code language-scala codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">def sum(ns: List[Int]): List[Int] =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  ns.zip(ns.tail).map { case (a, b) =&gt; a + b }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">sum(List(1, 2, 3, 4, 5))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// res0: List[Int] = List(3, 5, 7, 9)</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>nice! this seems to work correctly. now that we can produce a level of
our trigle from a base level next step is to produce the whole triangle
from our input level (base level).</p><p>but first, let&#x27;s get a bit piky and define a type alias for our triangle</p><div class="codeBlockContainer_J+bg language-scala theme-code-block"><div class="codeBlockContent_csEI scala"><pre tabindex="0" class="prism-code language-scala codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">type Triangle = List[List[Int]]</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">object Triangle {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  def apply(ns: List[Int]): Triangle = ns :: Nil</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>now we can implement our <em>main</em> function:</p><div class="codeBlockContainer_J+bg language-scala theme-code-block"><div class="codeBlockContent_csEI scala"><pre tabindex="0" class="prism-code language-scala codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">def sumTriangle(numbers: List[Int]): Triangle = {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  @tailrec</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  def go(ns: List[Int], triangle: Triangle): Triangle =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    ns match {</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      case _ :: _ =&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        val level = sum(ns)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">        go(level, level :: triangle)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">      case Nil =&gt; triangle</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  go(numbers, Triangle(numbers))</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">}</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>as you may notice, this implementation is tail recursive (proved by the compiler)
and it builds a triangle from bottom to top.
let&#x27;s give it a try!</p><div class="codeBlockContainer_J+bg language-scala theme-code-block"><div class="codeBlockContent_csEI scala"><pre tabindex="0" class="prism-code language-scala codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">val triangle = sumTriangle(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  List(1, 2, 3, 4, 5)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// triangle: Triangle = List(</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//   List(),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//   List(48),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//   List(20, 28),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//   List(8, 12, 16),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//   List(3, 5, 7, 9),</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">//   List(1, 2, 3, 4, 5)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// )</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><p>as an extra let&#x27;s try to pretty print our triangle</p><div class="codeBlockContainer_J+bg language-scala theme-code-block"><div class="codeBlockContent_csEI scala"><pre tabindex="0" class="prism-code language-scala codeBlock_rtdJ thin-scrollbar" style="color:#393A34;background-color:#f6f8fa"><code class="codeBlockLines_1zSZ"><span class="token-line" style="color:#393A34"><span class="token plain">def show(triangle: Triangle): String =</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  triangle.foldRight(&quot;&quot;) { case (ns, str) =&gt;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">    s&quot;${ns.mkString(&quot;,&quot;)}&quot; ++ System.lineSeparator() ++ str</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">  }</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">show(triangle)</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// res1: String = &quot;&quot;&quot;</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 48</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 20,28</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 8,12,16</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 3,5,7,9</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// 1,2,3,4,5</span><br></span><span class="token-line" style="color:#393A34"><span class="token plain">// &quot;&quot;&quot;</span><br></span></code></pre><button type="button" aria-label="Copy code to clipboard" class="copyButton_M3SB clean-btn">Copy</button></div></div><blockquote><p>PS. worth to mention that this blog post is a markdown file processed with the awesome <a href="https://scalameta.org/mdoc/" target="_blank" rel="noopener noreferrer">mdoc</a> ðŸ¤“</p></blockquote></div><footer class="row docusaurus-mt-lg blogPostDetailsFull_xD8n"><div class="col"><b>Tags:</b><ul class="tags_NBRY padding--none margin-left--sm"><li class="tag_F03v"><a class="tag_WK-t tagRegular_LXbV" href="/blog/tags/scala">scala</a></li><li class="tag_F03v"><a class="tag_WK-t tagRegular_LXbV" href="/blog/tags/algo">algo</a></li></ul></div><div class="col margin-top--sm"><a href="https://github.com/Rafailong/blog/tree/main/docs/blog/2022-01-19-sum-triagle-from-array.md" target="_blank" rel="noreferrer noopener" class="theme-edit-this-page"><svg fill="currentColor" height="20" width="20" viewBox="0 0 40 40" class="iconEdit_mS5F" aria-hidden="true"><g><path d="m34.5 11.7l-3 3.1-6.3-6.3 3.1-3q0.5-0.5 1.2-0.5t1.1 0.5l3.9 3.9q0.5 0.4 0.5 1.1t-0.5 1.2z m-29.5 17.1l18.4-18.5 6.3 6.3-18.4 18.4h-6.3v-6.2z"></path></g></svg>Edit this page</a></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><div class="pagination-nav__item"><a class="pagination-nav__link" href="/blog/number-is-palindrome"><div class="pagination-nav__sublabel">Newer Post</div><div class="pagination-nav__label">Â« <!-- -->is the number a palindrome?</div></a></div><div class="pagination-nav__item pagination-nav__item--next"><a class="pagination-nav__link" href="/blog/add-two-numbers"><div class="pagination-nav__sublabel">Older Post</div><div class="pagination-nav__label">add two number<!-- --> Â»</div></a></div></nav></main><div class="col col--2"><div class="tableOfContents_vrFS thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#description" class="table-of-contents__link toc-highlight">description</a><ul><li><a href="#example" class="table-of-contents__link toc-highlight">example</a></li></ul></li><li><a href="#solution" class="table-of-contents__link toc-highlight">solution</a></li></ul></div></div></div></div></div><footer class="footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="col footer__col"><div class="footer__title">code</div><ul class="footer__items"><li class="footer__item"><a href="https://github.com/Rafailong" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>GitHub<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div><div class="col footer__col"><div class="footer__title">social</div><ul class="footer__items"><li class="footer__item"><a href="https://twitter.com/___ravila" target="_blank" rel="noopener noreferrer" class="footer__link-item"><span>Twitter<svg width="13.5" height="13.5" aria-hidden="true" viewBox="0 0 24 24" class="iconExternalLink_wgqa"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"></path></svg></span></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright Â© 2022 ravila' blog. Built with Docusaurus.</div></div></div></footer></div>
<script src="/blog/assets/js/runtime~main.a34d5912.js"></script>
<script src="/blog/assets/js/main.206bdfe0.js"></script>
</body>
</html>